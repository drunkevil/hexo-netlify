title: LTE笔记（二）：网络架构
date: 2015-05-27 08:26:11
categories: 学习笔记

---

为了满足ITU提出的性能要求，LTE的系统设计包括网络架构和无线接口两个方面。本文主要介绍网络架构方面的基本内容。

<!--more-->

## 一、概述

简单来说，LTE的网络架构包括两个方面，接入网（E-UTRAN）和核心网（EPC），如下图所示。

![](http://ww2.sinaimg.cn/mw690/aeba7ac3gw1escxusqut7j20fk052wf3.jpg)

可以看出，为了降低延迟，LTE将从2G到3G都一直很重要的基站控制器（RNC）去掉了，无线网络由“核心网-基站控制器-基站-用户”4层结构变成了“核心网-基站-用户”3层结构。

![](http://ww2.sinaimg.cn/mw690/aeba7ac3gw1escynzx9brj20ge09dmxl.jpg)

这样一来，整个网络结构更加简单扁平，带来了很多好处：
- 网络扁平化使得系统延时减少，改善用户体验；
- 网元数目减少，使得网络部署更为简单，网络的维护更加容易；
- 取消了RNC的集中控制，避免单点故障，有利于提高网络稳定性。


整个EPS（E-UTRAN + EPC）通过通过IP连接使用户通过运营商的公共数据网络（PDN）接入互联网，以提供诸如VoIP等业务。

## 二、网络结构

核心网由很多逻辑节点组成，而接入网只有一种节点，即与用户终端（UE）相连的eNode B，也就是LTE的基站。而RNC的功能大部分都转移到了eNode B上。所有网元都通过标准化的接口相连。整体网络架构如下图所示。

![](http://ww1.sinaimg.cn/mw690/aeba7ac3gw1esd01cbnvjj20h706x3ym.jpg)


从上图可以看出，核心网主要包括下面几个网元，即：

- PDN网关（P-GW）
- 业务网关（S-GW）
- 移动性管理实体（MME）
- 归属位置寄存器（HLR）
- 策略控制和计费规则功能（PCRF）

相应的功能可概括为：

- P-GW：负责用户IP地址分配和QoS保证，并根据PCRF规则进行基于流量的计费。
- S-GW：负责用户IP数据包的发送。
- MME：处理UE和核心网络间信令交互。
- HLR：包含用户的开户信息，比如归属地，漫游接入限制等。
- PCRF：负责策略控制的决策和位于P-GW中基于流量的计费规则。

## 三、接口

包括两种接口，S1和X2。eNode B与EPC之间通过接口S1相连，相邻eNode B之间通过接口X2相连。

![](http://ww1.sinaimg.cn/mw690/aeba7ac3gw1escxuu0nztj20fj06xab2.jpg)

S1又分为两个接口，分别为S1-MME和S1-U。eNode B通过接口S1-MME连接到核心网的MME，通过接口S1-U连接到核心网的S-GW。

S1-U中的U指的是User，通过它来传输用户数据。而S1-MME则用来传输信令。这个MME就是前面介绍的移动性管理实体。所谓移动性管理，就是位置更新、鉴权加密之类的工作。

X2接口可在一个eNode B与其相邻的若干个eNode B之间建立联系，在需要时交换信令信息。

在3G时代，基站与基站之间没有通信，一切信息由RNC控制。但是在LTE时代，RNC消失了，所以RNC的有些功能eNode B就不得不承接下来，比如说基站的负载和干扰消息，以及切换信息。现在没有RNC了，就需要通过eNode B的X2接口来进行交互。

![](http://ww4.sinaimg.cn/mw690/aeba7ac3jw1esddph9hvej20nw07a75d.jpg)


## 四、协议架构


接入网E-UTRAN的无线接口协议架构包括控制平面协议和用户平面协议两个方面，分别用于信令传输和用户数据传输。


用户平面协议栈如下图所示，包括分组数据汇聚协议（PDCP），无线链路控制（RLC），媒体介入控制层（MAC）和物理层（PHY）四个层次，这些子层在网络侧均终止于eNodeB实体。

![](http://ww3.sinaimg.cn/mw690/aeba7ac3gw1eshv6mmwxsj2071049t94.jpg)

控制平面协议栈主要包括非接入层（NAS）、RRC、PDCP、RLC、MAC、PHY层。其中，NAS子层终止于MME，主要实现EPS承载管理、鉴权、空闲状态下的移动性处理、寻呼消息以及安全控制等功能。其他子层在网络侧均终止于eNodeB实体。


![](http://ww4.sinaimg.cn/mw690/aeba7ac3gw1eshv6l6u2bj20b205xgmk.jpg)

LTE系统的数据处理过程被分解成不同的协议层，下行数据以IP包的形式进行传送，在空中接口传送之前，IP包将通过多个协议层实体进行处理，各层的功能分别概述为：


- PDCP层：处理控制平面上的无线资源管理（RRC）消息和用户平面上的IP包。

- RLC层：分割与重组上层数据包，使得他们的大小适应于无线接口进行的实际传输。

- MAC层：对不同无线承载的数据进行复用，通过决定每个无线承载传输的数据总量以及指示RLC层所提供包的大小，MAC层使每个无线承载都能获得事先商定的服务质量（QoS）。

上面三个子层构成了LTE第2层协议栈，是分组数据业务无线接入技术和物理层之间的接口，该协议栈使得分组数据业务更加高效的利用物理层。

- PHY层：负责处理编译码、调制解调、多天线映射以及其它电信物理层功能。物理层以传输信道的方式为MAC层提供服务。